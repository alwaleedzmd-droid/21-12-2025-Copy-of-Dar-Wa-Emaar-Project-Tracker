# ุณูุฑ ุงูููุงููุงุช ุงููุนูู - ุดุฑุญ ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ

## ๐ฏ ุงููุฏู

ุชุญุณูู ุนุฑุถ ูุฑุงุญู ุณูุฑ ุงูุนูู ูุงูููุงููุงุช ูู ุฎูุงู ุนุฑุถ **ุงููุฑุงุญู ุงููุนููุฉ ุงููุนุฑููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** ุจุฏูุงู ูู ุงูุฑุณุงุฆู ุงูุซุงุจุชุฉ.

## โจ ุงูุชุญุณููุงุช ุงููุถุงูุฉ

### 1. ุนุฑุถ ุงููุฑุงุญู ุงููุนููุฉ ูู ุทูุจุงุช ุงูุฅูุฑุงุบ

**ูุชู ูุธูุฑ**: ุนูุฏ ูุชุญ ุชูุงุตูู ุทูุจ ุฅูุฑุงุบ ุตู ุฃู ููู ููููุฉ
**ุงููููุน**: ุฌุฒุก "ุณูุฑ ุงูููุงููุงุช" ูู Modal ุงูุชูุงุตูู

**ุงููุนูููุงุช ุงููุนุฑูุถุฉ**:
- โ ุงุณู ุงููุฑุญูุฉ (ูุซู: "ุทูุจ ูุฑุฒ ูุญุฏุงุช", "ุฅุตุฏุงุฑ ุตููู ูุณุชููุฉ")
- ๐งโ๐ผ ุงููุณุคูู ุนูุฏ ุงูุชูููุฐ
- ๐ข ุงูููุตุฉ ุงููุณุชุฎุฏูุฉ (ูุซู: ูุงุฌุฒุ ุฅุชูุงูุ ูุงุฌุฒ)
- โฑ๏ธ ุงูุชุงุฑูุฎ ูุงูููุช (ุนูุฏ ุงูุจุฏุก ุฃู ุงูุงูุชูุงุก)
- ๐ ุงูููุงุญุธุงุช ุงููุฑููุฉ
- ๐ข ุญุงูุฉ ุงููุฑุญูุฉ: ูู ุงูุงูุชุธุงุฑุ ููุฏ ุงูุชูููุฐุ ููุชูู

### 2. ุนุฑุถ ุงููุฑุงุญู ุงููุนููุฉ ูู ุงูุทูุจุงุช ุงููููุฉ

**ูุชู ูุธูุฑ**: ุนูุฏ ูุชุญ ุชูุงุตูู ุทูุจ ููู
**ุงููููุน**: ุฌุฒุก "ุณูุฑ ุงูููุงููุงุช" ูู ManageRequestModal

**ุงููุนูููุงุช ุงููุนุฑูุถุฉ**:
- ุงุณู ุงููุฑุญูุฉ
- ุงููุณุคูู ุงููุจุงุดุฑ
- ููุตุฉ ุงูุชุนุงูู
- ุงูุชุงุฑูุฎ ูุงูููุช
- ุงูุญุงูุฉ ุงูุญุงููุฉ

## ๐๏ธ ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ

### ุฌุฏูู workflow_stages
ูุญุชูู ุนูู ุงููุฑุงุญู ุงููุนุฑููุฉ ููู ููุน ุทูุจ:
```
- stage_order: ุชุฑุชูุจ ุงููุฑุญูุฉ
- stage_title: ุงุณู ุงููุฑุญูุฉ
- stage_description: ูุตู ุชูุตููู
- responsible_party: ุงููุณุคูู ุนู ุงูุชูููุฐ
- platform_name: ุงูููุตุฉ ุฃู ุงููุธุงู
- expected_output: ุงููุฎุฑุฌ ุงููุชููุน
- is_active: ูู ุงููุฑุญูุฉ ูุดุทุฉ
```

### ุฌุฏูู workflow_stage_progress
ูุชุชุจุน ุชูุฏู ุชูููุฐ ุงููุฑุงุญู:
```
- stage_id: ูุนุฑู ุงููุฑุญูุฉ
- request_id: ูุนุฑู ุงูุทูุจ
- status: ูู ุงูุงูุชุธุงุฑ / ููุฏ ุงูุชูููุฐ / ููุชูู
- started_at: ุชุงุฑูุฎ ุงูุจุฏุก
- completed_at: ุชุงุฑูุฎ ุงูุงูุชูุงุก
- completed_by: ูู ูุงู ุจุฅููุงุก ุงููุฑุญูุฉ
- notes: ููุงุญุธุงุช ุชูููุฐ ุงููุฑุญูุฉ
```

## ๐ ูุณุงุฑ ุงูุจูุงูุงุช

```
1. ูุชุญ ุชูุงุตูู ุงูุทูุจ
   โ
2. ุฌูุจ workflow_route ุจูุงุกู ุนูู request_type
   โ
3. ุฌูุจ ุฌููุน ุงููุฑุงุญู (workflow_stages) ุงููุดุทุฉ
   โ
4. ุฌูุจ ุญุงูุฉ ุงูุชูุฏู (workflow_stage_progress) ููุทูุจ ุงูุญุงูู
   โ
5. ุนุฑุถ ุงููุฑุงุญู ูุน ุญุงูุชูุง ูุชูุงุตูููุง
```

## ๐ ุงูุฃููุงุน ุงููุฏุนููุฉ

- **TECHNICAL_SECTION** (ุงูุทูุจุงุช ุงููููุฉ ูุงูุฅูุดุงุฆูุฉ): 7 ูุฑุงุญู
- **DEED_CLEARANCE** (ุทูุจุงุช ุงูุฅูุฑุงุบ): 4 ูุฑุงุญู
- **METER_TRANSFER** (ููู ููููุฉ ุงูุนุฏุงุฏุงุช): 4 ูุฑุงุญู

## ๐จ ุงููุคุดุฑุงุช ุงูุจุตุฑูุฉ

```
๐ฃ ุงูุฏุงุฆุฑุฉ ุงูุจุฑุชูุงููุฉ: ุจุฏุงูุฉ ุงูุทูุจ
๐ต ุงูุฏุงุฆุฑุฉ ุงูุฒุฑูุงุก: ูุฑุญูุฉ ููุฏ ุงูุชูููุฐ
๐ข ุงูุฏุงุฆุฑุฉ ุงูุฎุถุฑุงุก: ูุฑุญูุฉ ููุชููุฉ
โซ ุงูุฏุงุฆุฑุฉ ุงูุฑูุงุฏูุฉ: ูุฑุญูุฉ ูู ุงูุงูุชุธุงุฑ
```

## โ ุงูุญุงูุงุช ุงููุนุฑูุถุฉ

| ุงูุญุงูุฉ | ุงููุนูู | ุงูููู |
|------|---------|--------|
| ูู ุงูุงูุชุธุงุฑ | ูู ุชุจุฏุฃ ุจุนุฏ | ุฑูุงุฏู |
| ููุฏ ุงูุชูููุฐ | ุฌุงุฑูุฉ ุงูุขู | ุฃุฒุฑู |
| ููุชูู | ุชูุช ุจูุฌุงุญ | ุฃุฎุถุฑ |

## ๐ ูุซุงู ุนููู

### ุทูุจ ุฅูุฑุงุบ ุตู

```
ุชู ุชูุฏูู ุงูุทูุจ
โโ ุงููููุฏ ุงูุฏูุณุฑู | 2026-02-24 10:30

ุงููุฑุญูุฉ 1: ุทูุจ ูุฑุฒ ูุญุฏุงุช [ูู ุงูุงูุชุธุงุฑ]
โโ ุงููุณุคูู: ุงููููุฏ ุงูุฏูุณุฑู | ุงูููุตุฉ: ุฅุชูุงู

ุงููุฑุญูุฉ 2: ุฅุตุฏุงุฑ ุตููู ูุณุชููุฉ [ููุฏ ุงูุชูููุฐ]
โโ ุงููุณุคูู: ุงููููุฏ ุงูุฏูุณุฑู | ุงูููุตุฉ: ูุงุฌุฒ
โโ ุจุฏุฃ ูู: 2026-02-24 11:00

ุงููุฑุญูุฉ 3: ุฑูุน ุงูุญุฌุฒ ุนู ุงูุตููู [ููุชูู]
โโ ุงููุณุคูู: ุงููููุฏ ุงูุฏูุณุฑู
โโ โ ุชู ุจูุงุณุทุฉ: ุงููููุฏ ุงูุฏูุณุฑู
โโ ุงูุชูู ูู: 2026-02-24 14:30
โโ ููุงุญุธุงุช: ุชู ุจูุฌุงุญ - ูุง ุชูุฌุฏ ููุงูุน ูุงููููุฉ

ุงููุฑุญูุฉ 4: ุชุญุฏูุซ ุจูุงูุงุช ุงููุงูู [ูู ุงูุงูุชุธุงุฑ]
โโ ุงููุณุคูู: ุงููููุฏ ุงูุฏูุณุฑู | ุงูููุตุฉ: ูุงุฌุฒ + ุจูุฏู
```

## ๐ง ุงูุชุทุจูู

### ูููุงุช API ุงููุชุนููุฉ
- **DeedsDashboard.tsx**: ูุนุฑุถ ุงููุฑุงุญู ููุทูุจุงุช ุงูุนูุงุฑูุฉ
- **ManageRequestModal.tsx**: ูุนุฑุถ ุงููุฑุงุญู ููุทูุจุงุช ุงููููุฉ
- **services/requestWorkflowService.ts**: ูุญุชูู ุนูู getWorkflowRoute()

### Functions ุงูุฑุฆูุณูุฉ

#### fetchWorkflowProgress (DeedsDashboard)
```typescript
const fetchWorkflowProgress = async (requestType: string, requestId: number) => {
  // ุฌูุจ ูุนุฑู ุงููุณุงุฑ
  const routeData = await supabase
    .from('workflow_routes')
    .select('id')
    .eq('request_type', requestType)
    .single();

  // ุฌูุจ ุงููุฑุงุญู
  const stagesData = await supabase
    .from('workflow_stages')
    .select('*')
    .eq('workflow_route_id', routeData.id)
    .order('stage_order');

  // ุฌูุจ ุญุงูุฉ ุงูุชูุฏู
  const progressData = await supabase
    .from('workflow_stage_progress')
    .select('*')
    .eq('request_id', requestId);
};
```

## ๐ ุงูุฎุทูุงุช ุงููุงุฏูุฉ

1. **ุฅุถุงูุฉ ูุงุฌูุฉ ุชุญุฏูุซ ุญุงูุฉ ุงููุฑุงุญู**
   - ุฒุฑ ูุชุบููุฑ ุญุงูุฉ ูู ูุฑุญูุฉ
   - ุฅููุงููุฉ ุฅุถุงูุฉ ููุงุญุธุงุช ุนูู ุงููุฑุญูุฉ
   - ุชุญุฏูุฏ ูู ูุงู ุจุฅููุงุก ุงููุฑุญูุฉ

2. **ุชุญุณูู ุงูุชูุงุฑูุฑ**
   - ุฅุญุตุงุฆูุงุช ุฒูู ููู ูุฑุญูุฉ
   - ุชูุฑูุฑ ุงูุชุฃุฎูุฑุงุช

3. **ุฅุฎุทุงุฑุงุช ุฐููุฉ**
   - ุชูุจููุงุช ุนูุฏ ุงูุชูุงู ูู ูุฑุญูุฉ
   - ุชูุจููุงุช ุงูุชุฃุฎูุฑ

## ๐ ููุงุญุธุงุช ูููุฉ

- **ุงูุจูุงูุงุช ูููุฉ**: ุชุฃูุฏ ูู ุฃู ุฌููุน ุงููุฑุงุญู ูุนุฑููุฉ ุตุญูุญุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงูุชุฑุชูุจ**: ูุฌุจ ุฃู ูููู stage_order ุฏููู ูุชุฑุชูุจ ุตุญูุญ
- **ุงูุญุงูุฉ ุงูุงูุชุฑุงุถูุฉ**: ุญุงูุฉ ุงููุฑุญูุฉ ุงูุงูุชุฑุงุถูุฉ ูู "pending" ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ
- **ุงูุชุญุฏูุซุงุช**: ุงููุธุงู ูุง ูุญุฏูุซ ุญุงูุฉ ุงููุฑุงุญู ุชููุงุฆูุงู - ูุชุทูุจ ุชุญุฏูุซ ูุฏูู ุฃู integration ูุณุชูุจูู
